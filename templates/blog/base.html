{% load staticfiles %}

<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title itemprop="name">{% block title %}{% endblock %}</title>
    {% block head_meta %}
    <meta name="description" content="{{ site_description }}">
    <meta name="keywords" content="{{ site_keywords }}">
    {% endblock %}
    <link rel="shortcut icon" href="/media/{{ favicon }}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/style.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/highlight.css' %}">
    <script type="text/javascript">
        var t1 = new Date().getTime();
        if (!!window.ActiveXObject || "ActiveXObject" in window) { //is IE?
            alert('请抛弃万恶的IE系列浏览器吧！');
        }
    </script>
</head>

<body class="home blog hfeed">
    <section id="main-container">
        {% block index_social %}
        {% endblock %}

        <!-- 主要内容 -->
        <div id="page" class="site wrapper">
            <header class="site-header gizle yya" role="banner">
                <div class="site-top">
                    <div class="site-branding">
                        <div id='tiaodan' class="site-title">
                            <a href="#"><img src="/media/{{ logo }}"></a>
                        </div>
                        <!-- logo end -->
                    </div>
                    <div class="header-user-avatar">
                        <a href="#">
                            <img src="{% static 'images/none.png' %}" width="30" height="30">
                        </a>
                        <div class="header-user-menu">
                            <div class="herder-user-name no-logged">是否要立即登录？<br>
                                <a href="#">立即登录？</a>{
                            </div>
                        </div>
                    </div>
                    <div class="searchbox"><i class="iconfont js-toggle-search iconsearch">&#xe65c;</i></div>
                    <!-- 导航栏 -->
                    <div class="lower">
                        <nav>
                            <ul id="menu-menu" class="menu">
                                <li><a href="{% url 'index:index' %}">首页</a></li>
                                <li><a href="#">分类</a>
                                    <ul class="sub-menu">
                                        <li><a href="#">Python</a></li>
                                        <li><a href="#">Java</a></li>
                                        <li><a href="#">说说</a></li>
                                    </ul>
                                </li>
{#                                <li><a href="{% url 'base:archive' %}">归档</a></li>#}
{#                                <li><a href="{% url 'base:friends' %}">友链</a></li>#}
{#                                <li><a href="#">留言板</a></li>#}
                            </ul>
                        </nav>
                    </div>
                </div>
            </header>
            {% block content %}
            {% endblock %}
        </div>
        <!-- 底部信息 -->
        <footer id="colophon" class="site-footer" role="contentinfo">
            <div class="site-info">
                <div class="footertext">
                    <p class="foo-logo"
                        style="background-image: url('/media/{{ f_logo }}');">
                    </p>
                </div>
                <!--显示底部加载所用时间-->
                <div class="footer-device" id="TimeShow"></div>
                <!--显示网站已运行多长时间-->
                <div class="footer-device">
                    <span id="span_dt_dt"></span>
                    <script type="text/javascript">
                        function show_date_time() {
                            window.setTimeout("show_date_time()", 1000);
                            BirthDay = new Date("{{ add_time }}");//这个日期是可以修改的,默认使用'SiteInfo'表中add_time字段时间
                            today = new Date();
                            timeold = (today.getTime() - BirthDay.getTime());
                            sectimeold = timeold / 1000;
                            secondsold = Math.floor(sectimeold);
                            msPerDay = 24 * 60 * 60 * 1000;
                            e_daysold = timeold / msPerDay;
                            daysold = Math.floor(e_daysold);
                            e_hrsold = (e_daysold - daysold) * 24;
                            hrsold = Math.floor(e_hrsold);
                            e_minsold = (e_hrsold - hrsold) * 60;
                            minsold = Math.floor((e_hrsold - hrsold) * 60);
                            seconds = Math.floor((e_minsold - minsold) * 60);
                            span_dt_dt.innerHTML = " 小猫博客已经勉强存活了：" + daysold + "天" + hrsold + "小时" + minsold + "分" + seconds + "秒";
                        }
                        show_date_time();
                    </script>
                </div>
                <div class="footer-device">
{#                    <div>Copyright © 2016-2019#}
{#                        <a href="#">技术猫网站</a>. 网站托管于<a href="https://www.aliyun.com/">阿里云</a> & #}
{#                        <a href="http://www.qiniu.com/">七牛提供CDN加速</a> .#}
{#                    </div>#}
                    <div>{{ site_copyright|safe }}</div>
                </div>
                <div class="footer-device">
                    <a href="#" target="_blank" rel="nofollow">Sitemap</a> &nbsp; <a
                        href="http://blog.skillcat.me/" rel="designer" target="_blank">Theme</a> &nbsp; <a
                        href="https://www.django.org/" target="_blank" rel="nofollow">Django</a> &nbsp; <a
                        href="https://tongji.baidu.com/" target="_blank" rel="nofollow">Statistics</a> </div>
                <div class="footer-device"><a href="http://www.miitbeian.gov.cn/" target="_blank" rel="nofollow">{{ icp }}</a></div>
            </div>
        </footer>
        <!-- 打开移动端菜单 -->
        <div class="openNav">
            <div class="iconflat">
                <div class="icon"></div>
            </div>
            <!-- logo -->
            <div class="site-branding">
                <div class="site-title"><a href="#"><img src="{{ logo.url }}"></a></div>
            </div>
        </div>
    </section><!-- #section -->
    <!-- 移动端菜单 -->
    <div id="mo-nav">
        <div class="m-avatar">
            <img src="{{ avatar.url }}">
        </div>
        <div class="m-search">
            <form class="m-search-form" method="get" action="#" role="search">
                <input class="m-search-input" type="search" name="s" placeholder="搜索..." required="">
            </form>
        </div>
        <ul id="menu-menu-1" class="menu">
            <li><a href="#">首页</a></li>
            <li><a href="#">分类</a>
                <ul class="sub-menu">
                    <li><a href="#">Python</a></li>
                    <li><a href="#">Java</a></li>
                    <li><a href="#">说说</a></li>
                </ul>
            </li>
            <li><a href="#">归档</a></li>
            <li><a href="#">友链</a></li>
            <li><a href="#">留言板</a></li>
        </ul>
    </div>
    <!-- 回到顶部 -->
    <a href="#" class="cd-top cd-is-visible"></a>
    <!-- 搜索 -->
    <form class="js-search search-form search-form--modal" method="get" action="#" role="search">
        <div class="search-form__inner">
            <div>
                <p class="micro mb-">输入后按回车搜索 ...</p>
                <i class="iconfont">&#xe65c;</i>
                <input class="text-input" type="search" name="s" placeholder="Search" required>
            </div>
        </div>
        <div class="search_close"></div>
    </form>

    <!-- page loading -->
    <div id="loading" style="display: none;">
        <div id="loading-center-absolute">
            <span class="heartbeat-loader">Loading…</span>
            <p>正在玩命加载中...</p>
        </div>
    </div>
    <script type="text/javascript" src="{% static 'js/jquery.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/jquery.pjax.js' %}"></script>
    <script src="{% static 'js/nprogress.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/input.min.js' %}"></script>
    <canvas width="1920" height="927" style="position: fixed; top: 0px; left: 0px; pointer-events: none; z-index: 999999;"></canvas>
    <script type="text/javascript">
        var Poi = { "pjax": "0", "movies": "close", "windowheight": "auto", "codelamp": "close",
            "ajaxurl": "http:\/\/blog.skillcat.me\/wp-admin\/admin-ajax.php",
            "order": "desc", "formpostion": "bottom" };
    </script>
    <script type="text/javascript" src="{% static 'js/app.js' %}"></script>
    <!-- 一言 -->
    <script type="text/javascript">
        // Hitokoto !
        function Hitokoto() {
            fetch("https://v1.hitokoto.cn?encode=json")
                .then(function (response) {
                    return response.json();
                })
                .then(function (data) {
                    var author = !!data.from ? data.from : "无名氏";
                    if ($('#hitokoto').hasClass("animated")) {
                        $('#hitokoto').removeClass("animated");
                        $('#hitokoto').removeClass("fadeIn");
                    }
                    $('#hitokoto').animateCss('bounce');
                    $('#hitokoto_text').text(data.hitokoto + ' -「' + author + '」');
                    window.setTimeout(Hitokoto, 600000); // 十分钟获取一次,可以自行修改（Hitokoto有20QPS闸值限制）
                })
                .catch(function (err) {
                    console.error(err);
                });
        }
        var isID = {{ hitokoto_status }};
        if (isID) {
            window.setTimeout(Hitokoto, 10000);
        }
    </script>
    <!-- 百度 -->
    <div class="site-statistics">
        <script type="text/javascript">var _hmt = _hmt || [];
            (function () {
                var hm = document.createElement("script");
                hm.src = "https://hm.baidu.com/hm.js?148828d0d05fde604090508b4b6702a5";
                var s = document.getElementsByTagName("script")[0];
                s.parentNode.insertBefore(hm, s);
            })();
        </script>
    </div>
    {% block script %}
    {% endblock %}

    <!-- 引入峰窝canvas 如果屏幕大于480的话 -->
    <script type="text/javascript">
        if (screen && screen.width > 480) {
            document.write('<script src="{% static 'js/canvas-nest.min.js' %}" type="text/javascript"><\/script>');
        }
    </script>
    <!-- 鼠标❤特效 -->
    <script type="text/javascript">
        if (screen && screen.width > 480) {
            document.write('<script src="{% static 'js/canvas-heart.min.js' %}" type="text/javascript"><\/script>');
        }
    </script>
    <!-- nprogress进度条加载 -->
    <script type="text/javascript">
        $('body').show();
        $('.version').text(NProgress.version);
        NProgress.start();
        setTimeout(function () {
            NProgress.done();
            $('.fade').removeClass('out');
        }, 1000);
    </script>
{#    统计代码#}
    {% if analytics_code %}
        {{ analytics_code | safe }}
    {% endif %}
</body>

</html>